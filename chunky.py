
def get_base_64():
    return """
aW1wb3J0IGFnZW50CmltcG9ydCB2ZWN0b3JhZ2VudAoKaW1wb3J0IG9zCmZyb20gZmxhc2sgaW1w
b3J0IEZsYXNrLHJlcXVlc3QsanNvbmlmeQppbXBvcnQgeWFtbAoKCmFwcCA9IEZsYXNrKF9fbmFt
ZV9fKQoKIyBmaXJzdCB1c2Ugc2VjdGlvbgoKQGFwcC5yb3V0ZSgiLyIpCmRlZiB3ZWxjb21lX2Jh
Y2tfZW5kKCk6CiAgICByZXR1cm4gIjxoMT5XZWxjb21lIHRvIHNpbXBsZSBjcmV3IGFpPC9oMT4i
CgpAYXBwLnJvdXRlKCIvdGFzayIsbWV0aG9kcz1bJ1BPU1QnXSkKZGVmIGFnZW50cygpOgoKICAg
ICAgICBqc29uX2RhdGEgPSByZXF1ZXN0Lmpzb24KICAgICAgICBuYW1lX2FnZW50ID0ganNvbl9k
YXRhLmdldCgnbmFtZScpCiAgICAgICAgdGFza3NfYWdlbnQgPSBqc29uX2RhdGEuZ2V0KCd0YXNr
cycpCiAgICAgICAgd2ViX2FnZW50ID0ganNvbl9kYXRhLmdldCgnd2ViJykKICAgICAgICBtb2Rl
bF9hZ2VudCA9IGpzb25fZGF0YS5nZXQoJ21vZGVsJykKICAgICAgICByZXN0X2FnZW50ID0gYWdl
bnQuYWdlbnQobmFtZT1uYW1lX2FnZW50LHRhc2tzPXRhc2tzX2FnZW50LHdlYj13ZWJfYWdlbnQs
bW9kZWw9bW9kZWxfYWdlbnQpCiAgICAgICAgICAKICAgICAgICBvdXRwdXQgPSB7InJlc3BvbnNl
IjpyZXN0X2FnZW50LmRvVGFzaygpfSAgIAogICAgICAgIHJldHVybiBqc29uaWZ5KG91dHB1dCkK
CiMgdmVjdG9yIHNlY3Rpb24KCkBhcHAucm91dGUoIi92ZWN0b3IiLG1ldGhvZHM9WydQT1NUJ10p
CmRlZiB2ZWN0b3JkYigpOgogICAganNvbl9kYXRhID0gcmVxdWVzdC5qc29uCiAgICBjb2xsZWN0
aW9uID0ganNvbl9kYXRhLmdldCgnY29sbGVjdGlvbicpCiAgICB2ZWN0b3JfZGF0YSA9IGpzb25f
ZGF0YS5nZXQoJ3Byb21wdCcpCiAgICB0b3BpYyA9IGpzb25fZGF0YS5nZXQoJ3RvcGljJykKICAg
IHRvcGljX2lkID0ganNvbl9kYXRhLmdldCgndG9waWNfaWQnKQoKICAgIHZlY3Rvcl9hZ2VudCA9
IHZlY3RvcmFnZW50LnZlY3RvckFnZW50KG5hbWVfY29sbGVjdGlvbj1jb2xsZWN0aW9uLGRhdGFf
cHV0PXZlY3Rvcl9kYXRhLHRvcGljPXRvcGljLHRvcGljX2lkPXRvcGljX2lkKQogICAgcmV0dXJu
IHZlY3Rvcl9hZ2VudC5kb1ZlY3RvcigpCgpAYXBwLnJvdXRlKCIvcmV0cmlldmV2ZWN0b3IiLG1l
dGhvZHM9WydQT1NUJ10pCmRlZiBsb2NhbHZlY3RvcigpOiAKICAgIGpzb25fZGF0YSA9IHJlcXVl
c3QuanNvbgogICAgY29sbGVjdGlvbiA9IGpzb25fZGF0YS5nZXQoJ2NvbGxlY3Rpb24nKQogICAg
dG9waWNfZGF0YSA9IGpzb25fZGF0YS5nZXQoJ3RvcGljJykKICAgIHZlY3Rvcl9kYXRhID0ganNv
bl9kYXRhLmdldCgncHJvbXB0JykKCiAgICB2ZWN0b3JfYWdlbnQgPSB2ZWN0b3JhZ2VudC52ZWN0
b3JBZ2VudChuYW1lX2NvbGxlY3Rpb249Y29sbGVjdGlvbixkYXRhX3B1dD12ZWN0b3JfZGF0YSx0
b3BpYz10b3BpY19kYXRhLHRvcGljX2lkPU5vbmUpCiAgICByZXR1cm4gdmVjdG9yX2FnZW50Lmdl
dFZlY3RvcigpCgojIHRyYWluIHNlY3Rpb24KCgpAYXBwLnJvdXRlKCIvdHJhaW52ZWN0b3IiLG1l
dGhvZHM9WydQT1NUJ10pCmRlZiB0cmFpbl93aXRoX3ZlY3RvcigpOgogICAganNvbl9kYXRhID0g
cmVxdWVzdC5qc29uCiAgICBtb2RlbCA9IGpzb25fZGF0YS5nZXQoJ21vZGVsJykKICAgIHF1ZXJ5
ID0ganNvbl9kYXRhLmdldCgncXVlcnknKQogICAgY29sbGVjdGlvbiA9IGpzb25fZGF0YS5nZXQo
J2NvbGxlY3Rpb24nKQoKICAgIHZlY3Rvcl9hZ2VudCA9IHZlY3RvcmFnZW50LnZlY3RvckFnZW50
KG5hbWVfY29sbGVjdGlvbj1jb2xsZWN0aW9uLGRhdGFfcHV0PU5vbmUsdG9waWM9Tm9uZSx0b3Bp
Y19pZD1Ob25lKQogICAgdmVjdG9yX2FnZW50LnRyYWluTExNKHF1ZXJ5LG1vZGVsKQoKICAgIHJl
dHVybiB2ZWN0b3JfYWdlbnQudHJhaW5MTE0ocXVlcnksbW9kZWwpCiAgICAKaWYgX19uYW1lX18g
PT0gJ19fbWFpbl9fJzoKICAgIGFwcC5ydW4ocG9ydD17UE9SVH0pCiAgICAKCgo=
"""

def put_agent():
    return """
aW1wb3J0IHJlcXVlc3RzCmltcG9ydCBqc29uCmltcG9ydCBkdWNrZHVja2dvX3NlYXJjaAoKaW1w
b3J0IHZlY3Rvcm1hbmFnZXIKCmZyb20gZmxhc2sgaW1wb3J0IGpzb25pZnkKCgpjbGFzcyBhZ2Vu
dDoKCiAgICBkZWYgX19pbml0X18oc2VsZiwgbmFtZSx0YXNrcyx3ZWIsbW9kZWwpOgogICAgICAg
IHNlbGYuX19uYW1lID0gbmFtZQogICAgICAgIHNlbGYuX190YXNrcyA9IHRhc2tzCiAgICAgICAg
c2VsZi5fX3dlYiA9IHdlYgogICAgICAgIHNlbGYuX19tb2RlbCA9IG1vZGVsCgogICAgZGVmIGdl
dE5hbWUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX19uYW1lCgogICAgZGVmIHNldE5hbWUo
c2VsZixuYW1lKToKICAgICAgICBzZWxmLl9fbmFtZSA9IG5hbWUgICAKCiAgICBkZWYgZ2V0VGFz
a3Moc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX190YXNrczsKCiAgICBkZWYgc2V0VGFza3Mo
c2VsZix0YXNrdik6CiAgICAgICAgc2VsZi5fX3Rhc2tzID0gdGFza3YKCiAgICBkZWYgZ2V0V2Vi
KHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl9fd2ViICAgICAKCiAgICBkZWYgc2V0V2ViKHNl
bGYsd2VieCk6CiAgICAgICAgc2VsZi5fX3dlYiA9IHdlYngKCiAgICBkZWYgZ2V0TW9kZWwoc2Vs
Zik6CiAgICAgICAgcmV0dXJuIHNlbGYuX19tb2RlbAoKICAgIGRlZiBzZXRNb2RlbChzZWxmLG1v
ZGVseCk6CiAgICAgICAgc2VsZi5fX21vZGVsID0gbW9kZWx4ICAgICAgICAgICAgICAgCgogICAg
CiAgICBkZWYgZG9UYXNrKHNlbGYpOgogICAgICAgIHByaW50KCJGb2xsb3dpbmcgYWdlbnQgaXMg
cnVubmluZzoiKQogICAgICAgIHByaW50KHNlbGYuX19uYW1lKQogICAgICAgIAoKICAgICAgICBm
b3IgdGFzayBpbiBzZWxmLl9fdGFza3M6CiAgICAgICAgICAgIAogICAgICAgICAgICBwcmludCgi
cHJvbXB0aW5nIHRoZSBmb2xsb3dpbmcgdGFzazogIikKICAgICAgICAgICAgcHJpbnQodGFzaykK
CiAgICAgICAgICAgIGRhdGEgPSB7J21vZGVsJzpzZWxmLl9fbW9kZWwsJ3Byb21wdCc6dGFzaywn
c3RyZWFtJzpGYWxzZX0KCiAgICAgICAgICAgIGlmIHNlbGYuX193ZWIgaXMgVHJ1ZToKCiAgICAg
ICAgICAgICAgICByZXNlYXJjaF93ZWIgPSB0YXNrCiAgICAgICAgICAgICAgICBkdWNrX2R1Y2tf
c2VhcmNoID0gZHVja2R1Y2tnb19zZWFyY2guRERHUygpLnRleHQocmVzZWFyY2hfd2ViLG1heF9y
ZXN1bHRzPTUpCiAgICAgICAgICAgICAgICBtYXRlcmlhbF90b19sZWFybiA9IFtdCgogICAgICAg
ICAgICAgICAgcHJpbnQoInJldHJpZXZpbmcgZnJvbSB0aGUgd2ViIikKICAgICAgICAgICAgICAg
IGZvciBzZWFyY2hfcmVzdWx0cyBpbiBkdWNrX2R1Y2tfc2VhcmNoOgogICAgICAgICAgICAgICAg
ICAgIG1hdGVyaWFsX3RvX2xlYXJuLmFwcGVuZChzZWFyY2hfcmVzdWx0c1siYm9keSJdKQogICAg
ICAgICAgICAgICAgICAgIHByaW50KHNlYXJjaF9yZXN1bHRzWyJib2R5Il0pCiAgICAgICAgICAg
ICAgIAogICAgICAgICAgICAgICAgcHJpbnQoImxlYXJuaW5nIGZyb20gdGhlIHdlYiIpCgogICAg
ICAgICAgICAgICAgZm9yIGxlYXJuaW5nX2l0ZW0gaW4gbWF0ZXJpYWxfdG9fbGVhcm46CiAgICAg
ICAgICAgICAgICAgICAga25vd2xlZGdlX2RhdGEgPSB7Im1vZGVsIjpzZWxmLl9fbW9kZWwsInBy
b21wdCI6bGVhcm5pbmdfaXRlbX0gICAgCiAgICAgICAgICAgICAgICAgICAgZW1iZWRkaW5nX2Rh
dGEgPSByZXF1ZXN0cy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjExNDM0L2FwaS9lbWJlZGRpbmdz
Iixqc29uPWtub3dsZWRnZV9kYXRhKQoKICAgICAgICAgICAgICAgIHByaW50KCJhc2tpbmcgdG8g
dGhlIGxsbSIpCiAgICAgICAgICAgICAgICBwb3N0RGF0YSA9IHJlcXVlc3RzLnBvc3QoImh0dHA6
Ly9sb2NhbGhvc3Q6MTE0MzQvYXBpL2dlbmVyYXRlIixqc29uPWRhdGEpCiAgICAgICAgICAgICAg
ICBwcmludChwb3N0RGF0YS50ZXh0KQogICAgICAgICAgICAKICAgICAgICAgICAgZWxzZToKICAg
ICAgICAgICAgCiAgICAgICAgICAgICAgICBwb3N0RGF0YSA9IHJlcXVlc3RzLnBvc3QoImh0dHA6
Ly9sb2NhbGhvc3Q6MTE0MzQvYXBpL2dlbmVyYXRlIixqc29uPWRhdGEpCiAgICAgICAgICAgICAg
ICBwcmludChwb3N0RGF0YS50ZXh0KQogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIHBv
c3REYXRhLmpzb24oKVsncmVzcG9uc2UnXQoK
"""

def vectormanager():
    return """
import chromadb
import requests
from flask import jsonify

import random

class vectorManager:

    def __init__(self,collection):
        self.__client = chromadb.Client()
        self.__collection = collection

    def add_or_create_data(self,data,topic,topic_id):

        collection = self.__client.get_or_create_collection(name=self.__collection)
        collection.add(documents = data,metadatas= topic,ids= topic_id)

        done_operation = {"operation":"concluded"}
        return jsonify(done_operation)

    def give_data(self,topic,query):

        collection = self.__client.get_or_create_collection(name=self.__collection)
        result = collection.query(query_texts= query,where_document={"$contains":query})
        
        return jsonify(result)
    
    def train(self,query,model):
        
        collection = self.__client.get_or_create_collection(name=self.__collection)
        result = collection.query(query_texts=query,where_document={"$contains":query},include=["documents"])
        
        for item in result["documents"]:
            print(item)
            knowledge_data = {"model":model,"input":item}    
            embedding_data = requests.post("http://localhost:11434/api/embeddings",json=knowledge_data)

        done_operation = {"operation":"concluded"}
        return jsonify(done_operation)

    def delete_collection(self):
        self.__client.delete_collection(name=self.__collection)
            """

def vectoragent():
    return  str("""
import agent
import vectormanager

class vectorAgent(agent.agent):
    
    def __init__(self,name_collection,data_put,topic,topic_id):
        self.__namecollection = name_collection
        self.__dataplain = data_put
        self.__topic = topic
        self.__topicid = topic_id

    def doVector(self):
        vector = vectormanager.vectorManager(self.__namecollection)
        return vector.add_or_create_data(data=self.__dataplain,topic=self.__topic,topic_id=self.__topicid)       
         

    def getVector(self):
        vector = vectormanager.vectorManager(self.__namecollection)
        return  vector.give_data(self.__topic,self.__dataplain)



    def trainLLM(self,query,model):
        vector = vectormanager.vectorManager(self.__namecollection)
        return vector.train(query,model)
    """)
